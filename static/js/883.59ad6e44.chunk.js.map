{"version":3,"file":"static/js/883.59ad6e44.chunk.js","mappings":"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","sources":["images/user.svg","pages/History/History.tsx","hooks/useGetHistory.ts","components/HistoryRoute/index.ts","components/HistoryRoute/HistoryRoute.tsx","pages/Login/Login.tsx","hooks/useLogin.ts"],"sourcesContent":["var _path, _path2;\nvar _excluded = [\"title\", \"titleId\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nimport * as React from \"react\";\nfunction SvgUser(_ref, svgRef) {\n  var title = _ref.title,\n    titleId = _ref.titleId,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 20,\n    height: 20,\n    viewBox: \"0 0 20 20\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M10 3.125C7.58375 3.125 5.625 5.08375 5.625 7.5C5.625 9.91625 7.58375 11.875 10 11.875C12.4162 11.875 14.375 9.91625 14.375 7.5C14.375 5.08375 12.4162 3.125 10 3.125ZM4.375 7.5C4.375 4.3934 6.8934 1.875 10 1.875C13.1066 1.875 15.625 4.3934 15.625 7.5C15.625 10.6066 13.1066 13.125 10 13.125C6.8934 13.125 4.375 10.6066 4.375 7.5Z\",\n    fill: \"#BDBDBD\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M10.0001 13.124C8.57374 13.124 7.17251 13.4995 5.93728 14.2128C4.70205 14.926 3.67634 15.9518 2.96327 17.1872C2.79071 17.4861 2.40848 17.5886 2.10953 17.416C1.81058 17.2435 1.70812 16.8612 1.88068 16.5623C2.70345 15.1369 3.88696 13.9532 5.31223 13.1303C6.7375 12.3073 8.3543 11.874 10.0001 11.874C11.6459 11.874 13.2627 12.3073 14.688 13.1303C16.1132 13.9532 17.2968 15.1369 18.1195 16.5623C18.2921 16.8612 18.1896 17.2435 17.8907 17.416C17.5917 17.5886 17.2095 17.4861 17.0369 17.1872C16.3239 15.9518 15.2982 14.926 14.0629 14.2128C12.8277 13.4995 11.4265 13.124 10.0001 13.124Z\",\n    fill: \"#BDBDBD\"\n  })));\n}\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgUser);\nexport default __webpack_public_path__ + \"static/media/user.0ad781910392b247a9a947bbaea040c0.svg\";\nexport { ForwardRef as ReactComponent };","import \"./History.css\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { useAppDispatch } from \"../../store\";\r\nimport { historyAPI } from \"../../store/api/slice/history\";\r\nimport { removeHistory } from \"../../store/slices/authSlice\";\r\nimport { useGetHistory } from \"../../hooks/useGetHistory\";\r\n\r\nexport const History = (): JSX.Element => {\r\n  const navigate = useNavigate();\r\n  const dispatch = useAppDispatch();\r\n\r\n  const history = useGetHistory();\r\n\r\n  const [deleteHistory, { isLoading }] = historyAPI.useDeleteHistoryMutation();\r\n\r\n  const handleClickItem = (elem: string): void => {\r\n    navigate(\"/marketplace\", { state: { search: elem } });\r\n  };\r\n\r\n  const handleClickClear = (): void => {\r\n    if (!isLoading) {\r\n      deleteHistory();\r\n      dispatch(removeHistory());\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"history wrapper\">\r\n      <div className=\"history-headline\">\r\n        <h1 className=\"work-sans\">History</h1>\r\n        <button\r\n          className=\"history-button work-sans smart\"\r\n          onClick={handleClickClear}\r\n          style={isLoading ? { cursor: \"not-allowed\" } : {}}\r\n        >\r\n          clear history\r\n        </button>\r\n      </div>\r\n      <ul className=\"history-body\">\r\n        {history\r\n          ? history.map((elem, index) => (\r\n              <li\r\n                key={index}\r\n                onClick={(): void => handleClickItem(elem)}\r\n                className=\"history-body-item space-mono\"\r\n              >\r\n                {elem}\r\n              </li>\r\n            ))\r\n          : \"No history\"}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n","import { useSelector } from \"react-redux\";\r\nimport type { RootState } from \"../store\";\r\n\r\nexport const useGetHistory = (): string[] | null =>\r\n  useSelector((state: RootState) => state.auth.profile?.history || null);\r\n","import { HistoryRoute } from \"./HistoryRoute\";\r\nexport default HistoryRoute;\r\n","import { useIsLoggedIn } from \"../../hooks/useIsLoggedIn\";\r\nimport History from \"../../pages/History\";\r\nimport Login from \"../../pages/Login\";\r\n\r\nexport const HistoryRoute = (): JSX.Element => {\r\n  const isLoggedIn = useIsLoggedIn();\r\n  return isLoggedIn ? <History /> : <Login />;\r\n};\r\n","import \"./Login.css\";\r\nimport image from \"../../images/login.png\";\r\nimport user from \"../../images/user.svg\";\r\nimport type { ChangeEvent, FormEvent } from \"react\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { useLogin } from \"../../hooks/useLogin\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { useIsLoggedIn } from \"../../hooks/useIsLoggedIn\";\r\nimport { useGetProfile } from \"../../hooks/useGetProfile\";\r\n\r\nexport const Login = (): JSX.Element => {\r\n  const navigate = useNavigate();\r\n\r\n  const [login, setLogin] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n\r\n  const isLoggedIn = useIsLoggedIn();\r\n  const profile = useGetProfile();\r\n\r\n  const { isNotValidData, setIsNotValidData, tryLogin } = useLogin();\r\n\r\n  const handleSubmit = (e: FormEvent): void => {\r\n    e.preventDefault();\r\n    tryLogin(login, password);\r\n  };\r\n\r\n  const onSubmitLogin = (e: ChangeEvent<HTMLInputElement>): void => {\r\n    setLogin(e.target.value);\r\n    setIsNotValidData(false);\r\n  };\r\n  const onSubmitPassword = (e: ChangeEvent<HTMLInputElement>): void => {\r\n    setPassword(e.target.value);\r\n    setIsNotValidData(false);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (isLoggedIn && profile) {\r\n      navigate(`/${profile.login}`);\r\n    }\r\n  }, [isLoggedIn, navigate, profile]);\r\n\r\n  return (\r\n    <div className=\"login\">\r\n      <div className=\"login-body column\">\r\n        <div className=\"login-title h2 work-sans\">Log In</div>\r\n        <form onSubmit={handleSubmit} className=\"login-form column\">\r\n          <div className=\"login-form-body column\">\r\n            <div className=\"login-form-input\">\r\n              <img src={user} alt=\"user\" />\r\n              <input\r\n                data-error={isNotValidData}\r\n                type=\"text\"\r\n                name=\"login\"\r\n                value={login}\r\n                onChange={onSubmitLogin}\r\n                placeholder=\"Username\"\r\n                required\r\n              />\r\n            </div>\r\n            <div className=\"login-form-input\">\r\n              <img src={user} alt=\"user\" />\r\n              <input\r\n                data-error={isNotValidData}\r\n                type=\"password\"\r\n                name=\"password\"\r\n                value={password}\r\n                onChange={onSubmitPassword}\r\n                placeholder=\"Password\"\r\n                required\r\n              />\r\n            </div>\r\n          </div>\r\n          <button type=\"submit\" className=\"login-submit work-sans smart\">\r\n            Log In\r\n          </button>\r\n        </form>\r\n      </div>\r\n      <div className=\"login-image\">\r\n        <img src={image} alt=\"\" />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import { useEffect, useState } from \"react\";\r\nimport { authAPI } from \"../store/api/slice/auth\";\r\nimport { useAppDispatch } from \"../store\";\r\nimport { setAccessToken } from \"../store/slices/authSlice\";\r\nimport { useDispatchProfile } from \"./useDispatchProfile\";\r\n\r\nexport const useLogin = () => {\r\n  const dispatch = useAppDispatch();\r\n  const [isNotValidData, setIsNotValidData] = useState(false);\r\n  const [postLogin, { data: loginData }] = authAPI.useLoginMutation();\r\n  const dispatchProfile = useDispatchProfile();\r\n\r\n  const tryLogin = (login: string, password: string): void => {\r\n    postLogin({ login, password });\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (loginData?.accessToken) {\r\n      dispatch(setAccessToken(loginData?.accessToken));\r\n      dispatchProfile();\r\n    }\r\n    if (loginData?.isNotValidData) {\r\n      setIsNotValidData(true);\r\n    }\r\n  }, [loginData]);\r\n\r\n  return { isNotValidData, setIsNotValidData, tryLogin };\r\n};\r\n"],"names":["History","navigate","useNavigate","dispatch","useAppDispatch","history","useSelector","state","_state$auth$profile","auth","profile","_historyAPI$useDelete","historyAPI","useDeleteHistoryMutation","_historyAPI$useDelete2","_slicedToArray","deleteHistory","isLoading","_jsxs","className","children","_jsx","onClick","removeHistory","style","cursor","map","elem","index","search","handleClickItem","useIsLoggedIn","Login","_useState","useState","_useState2","login","setLogin","_useState3","_useState4","password","setPassword","isLoggedIn","useGetProfile","_useLogin","isNotValidData","setIsNotValidData","_authAPI$useLoginMuta","authAPI","useLoginMutation","_authAPI$useLoginMuta2","postLogin","loginData","data","dispatchProfile","useDispatchProfile","useEffect","accessToken","setAccessToken","tryLogin","useLogin","concat","onSubmit","e","preventDefault","src","user","alt","type","name","value","onChange","target","placeholder","required","image"],"sourceRoot":""}